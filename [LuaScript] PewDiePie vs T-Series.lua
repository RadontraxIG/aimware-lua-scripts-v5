--[=====[
   PewDiePie VS T-Series Made by Rab(SamzSakerz#4758)
             __        __
            |__)  /\  |__)
            |  \ /~~\ |__)
       __   __   ___      ___  ___
      /  ` |__) |__   /\   |  |__
      \__, |  \ |___ /~~\  |  |___
               ___  __           ___     ___
|  | |__|  /\   |  /__`    |\ | |__  \_/  |
|/\| |  | /~~\  |  .__/    | \| |___ / \  |

--]=====]

--[==========================[PROFILE PICTURE DATAS]==========================]


--[==========================[VARIABLES]==========================]
local font = draw.CreateFont('Arial', 16);
local mouseX, mouseY, x, y, dx, dy, w, h = 0, 0, 25, 660, 0, 0, 300, 200;
local shouldDrag = false;
local URL = 'http://rab.wtf/pewseries.php/';
local PEWDIEPIE_PROFILE_PICTURE_DATA = '<svg xmlns="http://www.w3.org/2000/svg" width="1601" height="1618" viewBox="0 0 1200 1213"><path fill="#e1dbd7" d="M638.57 0h26.07c47.38.37 94.6 4.7 141.85 7.75 21.76 1.54 43.58 3.3 65 7.6 23.6 4.52 47.08 9.83 70.3 16.08 30.1 7.87 59.72 18.47 86.67 34.2 23 12.62 44.2 28.62 61.98 47.95 14.02 14.56 26.6 30.48 37.3 47.64 11.2 17.5 20.32 36.2 29.05 55 7.2 15.9 14.02 32.1 18.78 48.93 5.68 19.92 9.47 40.3 13.1 60.68 6.27 35.86 10.23 72.14 11.33 108.53v30.2c-.86 23.9-2.82 47.8-6.83 71.38-7.1 41.35-15.72 82.76-31.5 121.77-8.7 20.22-17.34 40.52-28.28 59.64-15 25.98-34.48 49.18-55.83 70.15-24.38 23.22-51.33 43.85-80.6 60.53-15.63 8.92-32.1 16.22-48.6 23.35-13.8 5.83-27.88 11.02-42.4 14.7 1.23 14.07 4.65 27.8 6.7 41.76 4.24 24.5 5.8 49.35 6.38 74.17.6 19.1-5.15 37.6-11.47 55.38-5.9 16.2-16.12 30.83-29.52 41.7-13.62 10.53-29.2 18.14-44.88 25.05-16.03 7.1-32.43 13.33-48.98 19.1-21.36 7.74-43.55 12.85-65.64 18.04-44.86 10.13-90.07 18.67-135.3 26.94-49.45 8.76-99.2 16.2-149.28 20.1-34.68 2.53-69.43 4.15-104.2 4.67H317.5c-8.87-.34-17.78-.5-26.6-1.46-20.15-2.6-39.82-13.13-51.13-30.33-8.5-13.44-13.9-28.47-20.17-43-13.36-30.52-25-61.74-37.06-92.78-1.63-4.52-4.22-8.63-5.57-13.24-23.18-78.34-46.02-156.82-65.3-236.22-21.1-87-40.58-174.4-58.78-262.07C37.6 460.08 23.6 386 12.27 311.47 7.62 280.24 2.52 249.03 0 217.54V199.5c.4-8.98 2.7-17.8 6.5-25.96 8.95-19.16 24.86-34.7 43.54-44.43 18.5-9.87 37.9-17.9 57.3-25.84 64-25.7 130.52-44.65 197.66-60.2C379.16 26.02 454.3 12.88 530.1 5.76 566.16 2.24 602.37.93 638.57 0m-154.5 102.77l-110.16 17.18c-79.6 14.28-157.44 37.47-232.85 66.52-10.08 3.83-20.17 7.66-29.95 12.2 5.9 84.6 16.12 168.86 30.22 252.47 16.28 93.12 33.75 186.1 56.02 278 18.57 77.36 41.74 153.53 66 229.28 16.6 51.5 33 103.12 52.68 153.55 36.04.45 72.13.05 108.1-2.6 44.78-3.87 89.45-9 134.03-14.7 45.9-6.16 92.05-12.05 136.76-24.53 30.4-8.12 60.58-17.1 90.04-28.17 9.97-4.1 19.2-11.8 22.36-22.42 2.34-10.34 1.8-21.02 2.08-31.54l-1.08-83.93c-.77-23.38-1.2-46.82-3.97-70.07-.43-2.34.4-4.98 2.46-6.3 31.77-12.04 64.1-23 94.5-38.35 30.96-16.23 61.1-34.54 87.5-57.6 15.05-13.2 30.28-26.5 42.5-42.45 9.85-13.3 18.66-27.43 25.56-42.5 8.53-18.35 13-38.18 18.22-57.64 4.68-17.4 9.12-34.92 12.15-52.7 4.7-26.62 7.4-53.56 8.88-80.53 1.66-25.7.04-51.46-2.55-77.03-2.9-27.55-6.87-55-12.87-82.06-5.13-23.9-12.98-47.36-24.7-68.88-6.17-11.4-13.93-21.84-22.02-31.94-10.2-12.7-21.75-24.44-35.04-33.92-24.67-17.77-51.27-33.3-80.22-42.96-41.3-14.8-85.35-18.42-128.68-22.88-28.9-3.14-57.95-4.86-87.02-5.1-73.1-1.65-146.53.8-218.95 11.6z"/><path fill="#1d3245" d="M484.08 102.77c72.42-10.8 145.84-13.24 218.95-11.6 29.07.23 58.12 1.95 87.02 5.1 43.33 4.46 87.38 8.08 128.68 22.88 28.95 9.67 55.55 25.2 80.22 42.96 13.3 9.48 24.83 21.22 35.04 33.92 8.1 10.1 15.85 20.53 22.02 31.94 11.7 21.52 19.56 44.97 24.7 68.88 6 27.05 9.96 54.5 12.87 82.06 2.6 25.57 4.2 51.34 2.55 77.03-1.5 26.97-4.17 53.9-8.88 80.53-3.03 17.8-7.47 35.3-12.15 52.7-5.2 19.46-9.7 39.3-18.22 57.64-6.9 15.06-15.7 29.2-25.56 42.5-12.23 15.96-27.46 29.25-42.5 42.45-26.4 23.05-56.55 41.36-87.5 57.6-30.4 15.34-62.72 26.3-94.5 38.35-2.05 1.33-2.9 3.97-2.46 6.3 2.78 23.25 3.2 46.7 3.97 70.07 1.07 27.96.86 55.95 1.08 83.93-.27 10.52.26 21.2-2.08 31.54-3.15 10.63-12.4 18.33-22.36 22.42-29.46 11.06-59.65 20.05-90.04 28.17-44.7 12.48-90.86 18.37-136.76 24.53-44.58 5.7-89.25 10.83-134.03 14.7-35.96 2.64-72.05 3.04-108.1 2.6-19.7-50.43-36.08-102.05-52.68-153.55-24.25-75.75-47.42-151.92-66-229.28-22.27-91.9-39.74-184.87-56.02-278-14.1-83.6-24.32-167.88-30.22-252.47 9.78-4.54 19.87-8.37 29.95-12.2 75.4-29.05 153.25-52.24 232.85-66.52 36.57-6.65 73.37-11.95 110.16-17.18m68.44 67.96c-12.03 1.76-24.1 4.4-35.1 9.72-7.16 3.35-14.02 7.3-21 11.02-15.74 8.46-29.56 20-45.1 28.8-10.8 5.35-21.96 11.1-34.25 11.53-13.03.73-25.4-4.1-37.9-7.02-7.7-1.7-15.18-4.2-22.77-6.3-7.95-2.06-16.17-2.74-24.34-3.24-11.2-.36-22.27 1.94-33.04 4.8-15.04 3.8-29.3 10.84-41.26 20.76-9.6 7.86-16.87 18.07-23.57 28.4-10.76 15.9-18.1 34.43-19.12 53.7-.72 14.13 3.05 27.95 3.65 42 1.27 26.08 3.67 52.18 2.02 78.3-.96 22.57-2.73 45.14-1.88 67.74.55 23.2.53 46.54 4.54 69.46 3.12 16.04 6.2 32.47 14.13 46.97 7.3 13.4 16.14 26.26 27.88 36.16 14.4 12.14 31.4 20.9 49.18 26.94 15.3 5 31.17 9.1 47.37 9.23 17.68.12 35.25-3.22 52.1-8.43 10.72-3.6 20.57-9.26 30.32-14.9 6.23-3.95 12.56-7.9 17.84-13.1 4.97-4.98 7.44-11.73 9.95-18.15 3.32-8.1 4.1-17.64.7-25.85-5.37-15.7-8.27-32.1-11.3-48.4-3.86-23.07-3.97-46.53-4.36-69.85-.3-12.96-1.1-26.15 1.95-38.87 1.32-5.23.34-11.04-2.92-15.37-1.1-1.37-1.82-3.1-1.34-4.9 1.46-4.7 5.95-8.44 10.95-8.57 5.03-.06 10.33-.33 15.1 1.54 3.03 1.4 2.37 5.3 2.42 8.04-.7 7.36.64 14.67 1.2 22l8.48 77.2c2.67 19.32 7.25 38.32 12.6 57.06 5.72 20 13.8 39.48 25.54 56.72 7.36 10.65 17.32 20.13 29.83 24.25 24.64 8.4 51.23 8.08 76.8 5.2 18.42-2.34 37.1-5.94 53.6-14.87 15.9-8.3 29.04-21.45 38.3-36.74 7.2-12.67 9.53-27.8 7.5-42.15L732 551.02l-15.1-99c-.54-4.36.7-8.83-.43-13.1-1.5-4.88-6.58-7.12-9.3-11.14-1.86-2.9-1.16-6.52-1.26-9.76.17-4.9 1.16-10.68 5.5-13.63 8.2-3.8 17.62-4.52 26.5-3.23 5.02 2.97 8.24 9.02 7.65 14.87.68 31.12 2.9 62.22 6.87 93.1 2.42 19.93 6.78 39.6 12.44 58.84 4.33 14.2 8.88 28.42 15.3 41.82 3.46 7.12 7.6 14.33 14.26 18.93 4.42 2.93 9.48 4.7 14.54 6.18 24.32 6.58 50.9 8.64 74.9-.3 16.92-5.48 32.44-14.55 46.68-25.08 8.75-6.73 18.26-13.04 24.3-22.53 6.6-9.8 8.66-21.65 11.23-32.96 3.4-16.86 5.83-33.9 7.92-50.96 2.07-16.93 2.1-34 2.1-51.03-.2-16.34.34-32.7-.43-49.03-1.1-25.06-3.93-50.02-7.9-74.78-2.97-17.94-8.72-35.23-14.46-52.43-5.55-16.28-15.6-31.22-29.47-41.54-15.7-11.8-33.8-19.8-51.87-27.24-6.94-2.83-13.8-5.92-20.96-8.14-11.93-3.76-24.46-5.74-36.98-5.33-23.86.8-47.35 5.43-70.98 8.37-14.72 1.78-29.12 5.7-43.9 6.98-9.33 1-18.06-3.13-26.55-6.36-12.88-4.78-25.2-10.92-37.86-16.24-6.74-2.8-13.13-6.32-19.75-9.35-19.4-9.22-41.65-8.32-62.47-6.18m-37.4 519.54c-6.7 1.16-12.8 4.36-19.16 6.63-6.3 2.25-12.46 4.86-18.55 7.6-16.65 7.6-33.6 14.7-51.23 19.67-15.48 4.3-31.17 8.43-47.27 9.32-9.33.54-18.6-1.24-27.9-.93-6.88-.03-12.38 5.7-14.8 11.74-1.58 5.05-4.4 9.58-6.46 14.44-4.96 10.68-8.74 22.45-7.37 34.37 1.74 20.3 11.9 38.64 23.4 55 6.3 8.67 11.4 18.34 19.3 25.74 6.58 6.27 15.14 10.2 23.98 12.03 7.86 1.68 15.94 1.4 23.92 1.53 29.74.23 59.47-1.48 89.06-4.46 36.1-3.47 72.15-7.54 107.87-13.8 25.24-4.74 50.33-10.54 74.82-18.32 16.2-5.03 31.3-15.43 39.47-30.6 7.37-13.73 11-30.17 7-45.48-2.46-9.83-9.03-17.92-15.92-25.07-8.78-8.8-19.22-15.66-29.32-22.8-10.37-6.9-20.87-14.75-33.53-16.56-10.68-1.46-20.86 3.04-31.3 4.34-10.32 1.2-20.9 2.6-31.18.4-12.44-3.25-23.66-9.8-35.6-14.45-7.18-2.6-13.6-6.96-20.9-9.26-5.93-1.75-12.27-2.28-18.35-1.08z"/><path d="M552.52 170.73c20.82-2.14 43.08-3.04 62.47 6.18 6.62 3.03 13 6.56 19.75 9.35 12.66 5.32 24.98 11.46 37.86 16.24 8.5 3.23 17.22 7.37 26.55 6.36 14.78-1.3 29.18-5.2 43.9-6.98 23.63-2.94 47.12-7.56 70.98-8.37 12.52-.4 25.05 1.57 36.98 5.33 7.17 2.22 14.02 5.3 20.96 8.14 18.07 7.44 36.17 15.44 51.87 27.24 13.86 10.32 23.92 25.26 29.47 41.54 5.74 17.2 11.5 34.5 14.46 52.43 3.97 24.76 6.8 49.72 7.9 74.78.77 16.33.23 32.7.43 49.03-.01 17.03-.04 34.1-2.1 51.03-2.1 17.06-4.53 34.1-7.92 50.96-2.57 11.3-4.63 23.15-11.23 32.96-6.03 9.5-15.54 15.8-24.3 22.53-14.24 10.53-29.76 19.6-46.68 25.08-24 8.95-50.57 6.9-74.9.3-5.06-1.47-10.12-3.25-14.54-6.18-6.65-4.6-10.8-11.8-14.26-18.93-6.43-13.4-10.98-27.62-15.3-41.82-5.66-19.25-10.02-38.9-12.44-58.84-3.98-30.87-6.2-61.97-6.87-93.1.6-5.85-2.63-11.9-7.65-14.87-8.87-1.3-18.3-.57-26.5 3.23-4.34 2.95-5.33 8.74-5.5 13.63.1 3.24-.6 6.87 1.26 9.76 2.73 4.02 7.8 6.26 9.3 11.14 1.13 4.28-.1 8.75.43 13.1 4.34 33.1 9.74 66.06 15.1 99 2 13.5 3.34 27.05 5.23 40.55 2.04 14.36-.3 29.48-7.5 42.15-9.27 15.3-22.4 28.43-38.3 36.74-16.48 8.93-35.17 12.53-53.6 14.87-25.58 2.87-52.17 3.2-76.8-5.2-12.5-4.12-22.47-13.6-29.83-24.25-11.75-17.24-19.82-36.73-25.54-56.72-5.34-18.74-9.92-37.74-12.6-57.06-3.6-25.64-5.98-51.43-8.48-77.2-.56-7.32-1.9-14.63-1.2-22-.05-2.74.6-6.63-2.42-8.04-4.77-1.87-10.07-1.6-15.1-1.54-5 .13-9.5 3.86-10.95 8.57-.48 1.78.23 3.52 1.34 4.9 3.26 4.33 4.24 10.14 2.92 15.37-3.05 12.72-2.24 25.9-1.95 38.87.4 23.32.5 46.78 4.36 69.85 3.02 16.28 5.92 32.68 11.3 48.4 3.4 8.2 2.62 17.74-.7 25.85-2.5 6.42-4.98 13.17-9.95 18.15-5.28 5.2-11.6 9.16-17.84 13.1-9.75 5.63-19.6 11.3-30.32 14.9-16.84 5.2-34.4 8.55-52.1 8.43-16.2-.12-32.06-4.22-47.37-9.23-17.77-6.05-34.78-14.8-49.18-26.94-11.74-9.9-20.58-22.76-27.88-36.16-7.94-14.5-11-30.93-14.13-46.97-4-22.92-4-46.27-4.54-69.46-.85-22.6.92-45.17 1.88-67.74 1.65-26.12-.75-52.22-2.02-78.3-.6-14.05-4.37-27.87-3.65-42 1-19.28 8.36-37.82 19.12-53.7 6.7-10.33 13.97-20.54 23.57-28.4 11.96-9.92 26.22-16.95 41.26-20.76 10.77-2.85 21.84-5.15 33.04-4.8 8.17.5 16.4 1.18 24.34 3.24 7.6 2.1 15.07 4.6 22.77 6.3 12.5 2.9 24.87 7.75 37.9 7.02 12.3-.44 23.46-6.18 34.25-11.53 15.53-8.8 29.35-20.34 45.1-28.8 6.97-3.72 13.83-7.67 21-11.02 11-5.33 23.06-7.96 35.1-9.72zm-37.4 519.54c6.08-1.2 12.42-.67 18.35 1.08 7.3 2.3 13.7 6.65 20.9 9.26 11.93 4.65 23.15 11.2 35.6 14.45 10.28 2.2 20.86.82 31.18-.4 10.44-1.3 20.62-5.8 31.3-4.34 12.66 1.8 23.16 9.66 33.53 16.56 10.1 7.15 20.54 14.02 29.32 22.8 6.9 7.15 13.46 15.24 15.92 25.07 4.02 15.3.38 31.75-7 45.48-8.16 15.16-23.27 25.56-39.47 30.6-24.5 7.78-49.58 13.58-74.82 18.32-35.72 6.27-71.78 10.34-107.87 13.8-29.6 2.98-59.32 4.7-89.06 4.46-7.98-.14-16.06.15-23.92-1.53-8.84-1.84-17.4-5.76-23.98-12.03-7.9-7.4-13-17.07-19.3-25.74-11.5-16.37-21.66-34.72-23.4-55-1.37-11.92 2.4-23.7 7.37-34.37 2.07-4.86 4.88-9.4 6.46-14.44 2.4-6.03 7.9-11.77 14.8-11.74 9.3-.3 18.57 1.47 27.9.93 16.1-.9 31.8-5.02 47.27-9.32 17.64-4.96 34.58-12.08 51.23-19.67 6.1-2.75 12.25-5.36 18.55-7.6 6.36-2.27 12.45-5.47 19.16-6.63z" fill="#09bce0"/></svg>';
local TSERIES_PROFILE_PICTURE_DATA = '<svg xmlns="http://www.w3.org/2000/svg" width="227" height="353" viewBox="0 0 170 264"><g fill="#ef1a26"><path d="M0 0h170v264H0V0m7.3 7.04v249.92l155.63.01V7.03c-51.87 0-103.75-.01-155.63.01zm5.34 5.36h144.93v239.24c-48.3-.01-96.62.01-144.93-.01V12.4m63.9 32.42c-19.9 2.73-37.9 16.07-46.36 34.27-6.33 13.33-7.6 29-3.4 43.15 4.8 16.66 17.08 30.95 32.85 38.15 14.23 6.7 31.05 7.5 45.86 2.26 14.68-5.08 27.22-16 34.2-29.9 7.02-13.66 8.54-30 4.18-44.73-4.34-14.96-14.64-28.15-28.23-35.8-11.72-6.77-25.74-9.4-39.12-7.42m42.25 143.97c-2.4 3.03-.65 8.3 3.24 8.96 3.36.36 6.63-1.16 10-.92 1.97 1.45.6 4.1-1.45 4.55-1.7.9-3.18-.46-4.42-1.44l-5.03 2.3c1.33 1.53 2.56 3.53 4.8 3.77 4.2.3 8.54-1.62 11.28-4.8 2.7-3.04.93-8.85-3.2-9.44-3.28-.2-6.46 1.1-9.74.95-1.63-.92-1.3-3.28.37-3.96 1.52-1.17 3.1.2 4.26 1.15l5.05-2.36c-1.25-1.6-2.56-3.58-4.83-3.62-3.88.01-7.9 1.77-10.3 4.86m-84.68 4.06c1.63 2.38 4.25 3.8 6.23 5.83 1.52.9.84 2.7-.4 3.5-1.94.58-3.48-.98-4.96-1.96l.3-2.85-5.38-2.33c-.17 2.15-.9 4.6.65 6.46 2.5 3.1 6.5 4.93 10.46 5.07 4.04.24 7.43-4.6 5.54-8.23-2.1-3.06-5.7-4.86-7.3-8.3 2.03-3.1 6.12-.23 5.26 2.9 1.68.84 3.46 1.47 5.17 2.26 2.4-6.5-5.14-10.78-10.65-10.7-4-.06-7.12 4.92-4.93 8.37m65 .9l4.86 19.9 15.22-3.7-.94-3.9-9.73 2.4-1.06-4.26 8.95-2.14c-.33-1.3-.64-2.6-.9-3.9l-8.96 2.22-1.02-4.16 9.5-2.3-.92-3.85-15 3.67m-44.5-3.35l-4.94 19.86 15.2 3.77.94-3.88-9.72-2.4 1.05-4.25 8.97 2.22.93-3.8-8.94-2.24 1.02-4.13 9.52 2.36.93-3.84-14.97-3.68m17.14 3.7l-1.07 20.52 5.73.26.42-8.14c1.53.24 3.1.33 4.57.9.66 2.47.68 5.04.92 7.57l6.16.35c-.92-3.6.52-9.5-4.4-10.5 1.53-.65 3.6-.97 4.2-2.74 1.23-2.78-.06-6.86-3.37-7.3-4.35-.75-8.8-.6-13.17-.93m19.05.3l2.94 20.34 5.8-.83-2.94-20.33-5.8.82z"/><path d="M76.5 49.74c13.07-2.1 26.87.58 38.14 7.55 13.7 8.28 23.5 22.72 26.05 38.53 2.25 13.18-.4 27.13-7.43 38.5-8.4 13.88-23.08 23.77-39.14 26.18-13.07 2.1-26.88-.6-38.14-7.6-13.5-8.18-23.2-22.32-25.9-37.88-2.45-13.47.23-27.8 7.52-39.42C46 61.9 60.57 52.15 76.5 49.73m-24.03 18.3L49.6 81.06l21.4.01-8.26 67.06 26.44-.08c.75-1.16.57-2.73.88-4.04l8.18-62.94 18.5-.03 2.9-13.1c-22.4.05-44.78-.12-67.17.08zM77.3 198.04c2.1.42 6.1-.2 5.87 3.04-.33 3.12-4.03 2-6.16 2.2l.3-5.25z"/></g><path d="M7.3 7.04l155.63-.01v249.94c-51.87 0-103.75.01-155.63-.01V7.04m5.35 5.35v239.2h144.93V12.38c-48.3.01-96.62-.01-144.93.01zm63.9 32.4c13.38-2 27.4.65 39.12 7.42 13.6 7.64 23.9 20.83 28.23 35.8 4.36 14.72 2.84 31.07-4.18 44.73-7 13.88-19.53 24.8-34.2 29.9-14.8 5.25-31.63 4.43-45.86-2.26-15.77-7.2-28.06-21.5-32.85-38.15-4.22-14.15-2.94-29.82 3.4-43.15 8.46-18.2 26.46-31.54 46.36-34.27m-.04 4.93c-15.93 2.4-30.5 12.15-38.9 25.85-7.3 11.6-9.97 25.95-7.52 39.42 2.68 15.56 12.4 29.7 25.9 37.88 11.26 7 25.07 9.7 38.14 7.6 16.06-2.4 30.75-12.3 39.14-26.18 7.02-11.38 9.68-25.33 7.43-38.5-2.55-15.8-12.34-30.25-26.05-38.53-11.27-6.97-25.07-9.64-38.14-7.55zM52.47 68.02l67.17-.08-2.9 13.1-18.5.03L90.06 144c-.3 1.3-.13 2.88-.88 4.04-8.8.23-17.63.01-26.44.08L71 81.07c-7.13-.01-14.27 0-21.4-.01l2.87-13.04zm66.33 120.76c2.4-3.1 6.43-4.85 10.3-4.86 2.27.04 3.58 2.03 4.83 3.62l-5.05 2.36c-1.15-.96-2.74-2.32-4.26-1.15-1.66.68-2 3.04-.37 3.96 3.28.16 6.46-1.16 9.74-.95 4.14.6 5.92 6.4 3.2 9.44-2.74 3.18-7.08 5.1-11.28 4.8-2.23-.24-3.46-2.24-4.8-3.77l5.03-2.3c1.24.98 2.73 2.34 4.42 1.44 2.06-.44 3.42-3.1 1.45-4.55-3.37-.24-6.64 1.28-10 .92-3.9-.67-5.65-5.93-3.24-8.96zm-84.68 4.06c-2.2-3.45.93-8.43 4.93-8.37 5.5-.07 13.05 4.2 10.65 10.7-1.7-.8-3.5-1.42-5.17-2.26.86-3.14-3.23-6-5.26-2.9 1.6 3.45 5.2 5.25 7.3 8.3 1.9 3.63-1.5 8.47-5.54 8.23-3.95-.14-7.96-1.97-10.46-5.07-1.56-1.85-.82-4.3-.65-6.46 1.8.74 3.58 1.57 5.38 2.33l-.3 2.85c1.48.98 3.02 2.54 4.96 1.96 1.24-.8 1.92-2.58.4-3.5-1.98-2.04-4.6-3.45-6.23-5.83zm64.98.9l15-3.67.92 3.85-9.5 2.3 1.02 4.16 8.96-2.22.9 3.9-8.95 2.14 1.06 4.26 9.73-2.4.94 3.9-15.22 3.7-4.86-19.9zm-44.5-3.34l14.97 3.68-.93 3.84-9.52-2.36-1.02 4.13 8.94 2.24-.93 3.8-8.97-2.22-1.05 4.25 9.72 2.4-.94 3.88-15.2-3.77 4.94-19.86zm17.15 3.68c4.38.32 8.82.18 13.17.93 3.3.43 4.6 4.5 3.37 7.3-.62 1.77-2.68 2.1-4.2 2.74 4.92 1 3.48 6.88 4.4 10.5l-6.16-.35c-.24-2.53-.26-5.1-.92-7.57-1.46-.56-3.04-.65-4.57-.9l-.42 8.14-5.73-.26 1.07-20.52m5.54 3.96l-.3 5.25c2.13-.2 5.83.9 6.16-2.2.23-3.25-3.77-2.62-5.87-3.04zm13.5-3.67l5.8-.82 2.94 20.33-5.8.83-2.94-20.34z" fill="#fff"/></svg>';
local PEWDIEPIE_PROFILE_PICTURE, TSERIES_PROFILE_PICTURE;
local subData = { 0, 0 };

--[==========================[UTILS]==========================]
local function ReadableNumber(amount)
    local formatted = amount
    while true do
        formatted, k = string.gsub(formatted, "^(-?%d+)(%d%d%d)", '%1,%2')
        if (k == 0) then
            break
        end
    end
    return formatted
end

local function drawRoundedRectFill(r, g, b, a, x, y, w, h)
    draw.Color(r, g, b, a);
    draw.RoundedRectFill(x, y, x + w, y + h);
end

local function drawRectFill(r, g, b, a, x, y, w, h)
    draw.Color(r, g, b, a);
    draw.FilledRect(x, y, x + w, y + h);
end

local function split(s, delimiter)
    if delimiter == nil then
        delimiter = "%s"
    end
    local t = {}
    for str in string.gmatch(s, "([^" .. delimiter .. "]+)") do
        table.insert(t, str)
    end
    return t
end

local function dragFeature()
    if input.IsButtonDown(1) then
        mouseX, mouseY = input.GetMousePos();
        if shouldDrag then
            x = mouseX - dx;
            y = mouseY - dy;
        end
        if mouseX >= x and mouseX <= x + w and mouseY >= y and mouseY <= y + 40 then
            shouldDrag = true;
            dx = mouseX - x;
            dy = mouseY - y;
        end
    else
        shouldDrag = false;
    end
end

callbacks.Register('Draw', function()
    if (PEWDIEPIE_PROFILE_PICTURE == nil or TSERIES_PROFILE_PICTURE == nil) then
        PEWDIEPIE_PROFILE_PICTURE = draw.CreateTexture(common.RasterizeSVG(PEWDIEPIE_PROFILE_PICTURE_DATA));
        TSERIES_PROFILE_PICTURE = draw.CreateTexture(common.RasterizeSVG(TSERIES_PROFILE_PICTURE_DATA));
    end
    http.Get(URL, function(response) subData = split(response, ','); end);
    draw.SetTexture(255, 255, 255);
    drawRoundedRectFill(33, 33, 33, 255, x, y, w, 40);
    local topbar_text = 'PewDiePie vs T-Series By Rab';
    draw.SetFont(font);
    local tw, th = draw.GetTextSize(topbar_text)
    draw.Color(255, 255, 255);
    draw.Text(x + ((w - tw) / 2), y + ((40 - th) / 2), topbar_text)
    local curY = y + 60;
    drawRoundedRectFill(33, 33, 33, 255, x, curY, w, h);
    dragFeature();

    --Draw Profile Pictures
    curY = curY + 25;
    draw.SetTexture(PEWDIEPIE_PROFILE_PICTURE);
    drawRectFill(255, 255, 255, 255, x + 25, curY, 80, 80);

    draw.SetTexture(TSERIES_PROFILE_PICTURE);
    drawRectFill(255, 255, 255, 255, x + w - 95, curY, 60, 80);

    curY = curY + 95;
    draw.Color(255, 255, 255);
    local pewdiepieSubs = ReadableNumber(subData[1]);
    tw, th = draw.GetTextSize(pewdiepieSubs)
    draw.Text(x + 25 + ((80 - tw) / 2), curY, pewdiepieSubs);
    local tseriesSubs = ReadableNumber(subData[2]);
    tw, th = draw.GetTextSize(tseriesSubs)
    draw.Text((x + w - 95) + ((60 - tw) / 2), curY, tseriesSubs);

    local ahead = 'PewDiePie';
    local howManySubs = subData[1] - subData[2];
    if (subData[1] < subData[2]) then
        ahead = 'T-Series';
        howManySubs = subData[2] - subData[1];
    end
    local winningText = ahead .. ' Is winning by ' .. ReadableNumber(howManySubs) .. ' Subscribers';
    tw, th = draw.GetTextSize(winningText)
    curY = curY + 25;
    draw.Text(x + ((w - tw) / 2), curY, winningText)
end)
